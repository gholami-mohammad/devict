<ion-header>
  <ion-navbar>
    <button ion-button menuToggle icon-only>
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>
      Devic Phrase Book
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <form #translationForm="ngForm" (ngSubmit)="translateWord()">
    <ion-list>
      <ion-item>
        <ion-label stacked>Source Language</ion-label>
        <ion-select
        name="from_language"
        [(ngModel)]="translation.from_language"
        interface="popover"
        (ionChange)="setLastLang('from')">
          <ion-option *ngFor="let item of basicInfo.langs" value="{{item.id}}">{{item.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label stacked>Destination Language</ion-label>
        <ion-select
        name="to_language"
        [(ngModel)]="translation.to_language"
        interface="popover"
        (ionChange)="setLastLang('to')">
          <ion-option *ngFor="let item of basicInfo.langs" value="{{item.id}}">{{item.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-input type="text" name="word" [(ngModel)]="translation.word" placeholder="Word to tranlslate" (keyup)="wordChanged()" (change)="translateWord()"></ion-input>
      </ion-item>
      <ion-item>
        <button ion-button full type="submit">Search</button>
      </ion-item>
    </ion-list>
  </form>
  <ion-card padding *ngIf="hasAnyTranslation == 2">
        <div>
            <i>{{translation.word}}</i>
        </div>
        <br>
        <button ion-button (click)="saveWord()">Add to pharasebook</button>
  </ion-card>
  <ion-list *ngIf="translatedWord">
    <ion-title>Translations of word</ion-title>
    <ion-item>
      <button ion-button>Add translation</button>
    </ion-item>
    <ion-item *ngIf="translatedWord.translations.length == 0 ">
      No translation added for '{{translation.word}}'!
    </ion-item>
    <ion-card *ngFor="let tr of translatedWord.translations">
      <ion-card-header>
        <small>{{translatedWord.language.alpha2code}} -> {{tr.language.alpha2code}}</small>
        <small *ngIf="tr.part_of_speech_id">({{tr.part_of_speech.name}})</small>
        <a (click)="saveWord()">
            Edit
        </a>
      </ion-card-header>
      <ion-item>
        <label for="">Meaning:</label>
        <p dir="{{tr.language.dir}}">{{tr.translation}}</p>
        <hr>
      </ion-item>
      <ion-item *ngIf="tr.definition">
        <label for="">Definition: </label>
        <p dir="{{translatedWord.language.dir}}">{{tr.definition}}</p>
        <hr>
      </ion-item>
      <ion-item *ngIf="tr.example">
        <label for="">Example:</label>
        <p dir="{{translatedWord.language.dir}}">{{tr.example}}</p>
      </ion-item>
    </ion-card>
  </ion-list>
</ion-content>
<ion-menu [content]="content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <button ion-item (click)="openPage(Phrasebook)">
        Phrasebook
      </button>
      <button ion-item (click)="openPage(About)">
        About
      </button>
      <button ion-item (click)="closeMenu()">
        Close Menu
      </button>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-nav id="nav" #content [root]="rootPage"></ion-nav>
